# keytool -genkey -alias alias -keyalg RSA -keysize 2048 -keystore jwt.jks -validity 365 -keypass keypass -storepass keypass

### AUTHORIZATION_CODE 获取授code  需要response_type+client_id+scope 使用网页登录测试
#GET {{auth_host}}/auth/oauth2/authorize?response_type=code&client_id=xcWebApp&scope=all

### AUTHORIZATION_CODE 获取token
#POST {{auth_host}}/auth/oauth2/token?grant_type=authorization_code&client_id=xcWebApp&client_secret=xcWebApp&code=z0skIuJ1ng-bbiwxdTNBdIw1tTSvUVPO_xTPQVqvhKDzBKB9Jc-mJers9U2vvn7mgLlViS09fMyCiiDAOXOCbSCMJoKf0-ErejWuqDdhYIp9zJ3RMT98ZFb0NdnXAo_2
POST {{gateway_host}}/auth/oauth2/token?grant_type=authorization_code&client_id=xcWebApp&client_secret=xcWebApp&code=w4TtFEHm_wN2LP5x0BdBAhm0oI7qeD0EZhrJY6vWLj32iEsrzV48RsxurvWRnkzmkitY7aObzNLUKWqlM_46nzm_xuOcYOn8E7wesYveaAbYkEBbwJOfaIt7gQgyQzYy

#{
#  "access_token": "eyJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJ0ZXN0IiwiYXVkIjoieGNXZWJBcHAiLCJuYmYiOjE2ODE5ODY4NDUsInNjb3BlIjpbImFsbCJdLCJpc3MiOiJodHRwOi8vMTkyLjE2OC4xNDUuMToxMDE5L2F1dGgiLCJleHAiOjE2ODIwNzMyNDUsImlhdCI6MTY4MTk4Njg0NSwidXNlcmluZm8iOnsiaWQiOiI1MyIsInVzZXJuYW1lIjoidGVzdCIsInBhc3N3b3JkIjpudWxsLCJzYWx0IjpudWxsLCJ3eFVuaW9uaWQiOm51bGwsIm5pY2tuYW1lIjoiemtjIiwibmFtZSI6InprYyIsInVzZXJwaWMiOm51bGwsImNvbXBhbnlJZCI6IjEiLCJ1dHlwZSI6IjEwMTAwMyIsImJpcnRoZGF5IjpudWxsLCJzZXgiOiIxIiwiZW1haWwiOm51bGwsImNlbGxwaG9uZSI6bnVsbCwicXEiOm51bGwsInN0YXR1cyI6IjEiLCJjcmVhdGVUaW1lIjoiQXByIDE0LCAyMDIzLCA2OjExOjU2IFBNIiwidXBkYXRlVGltZSI6bnVsbH0sImF1dGhvcml0aWVzIjpbInhjX3N5c21hbmFnZXJfdXNlcl92aWV3IiwieGNfdGVhY2htYW5hZ2VyIiwieGNfdGVhY2htYW5hZ2VyX2NvdXJzZSIsInhjX3RlYWNobWFuYWdlcl9jb3Vyc2VfYWRkIiwieGNfdGVhY2htYW5hZ2VyX2NvdXJzZV9iYXNlIiwieGNfdGVhY2htYW5hZ2VyX2NvdXJzZV9kZWwiLCJ4Y190ZWFjaG1hbmFnZXJfY291cnNlX2xpc3QiLCJ4Y190ZWFjaG1hbmFnZXJfY291cnNlX21hcmtldCIsInhjX3RlYWNobWFuYWdlcl9jb3Vyc2VfcGxhbiIsInhjX3RlYWNobWFuYWdlcl9jb3Vyc2VfcHVibGlzaCJdfQ.gvrN9CRMhAJ6y9hU5xRCv305DzewjqttZCrqjfMQZ3oHs6eSll76xGORnAB2CPiv_XP-TZjr6SgNOys9tCXXYJoVbScwsjBFGSmIdnNXout-Bl9Pg0-pQRJySF3oVk6PfErQLhTURgR0y1UobR5g5rJKFI-iuwIpVMIGmUXweilL6LaCFnDMQ7Zmlgq5VOyN03OcaoHFTAP9pRlJp0MaSLopKtG4_-q6hGg7fMYntwLPPS5lsusUCVHtKfVgVDhbZnE0FPKOjbYrygA_6Vn-M6fPTcD2hrSr2GW_1T-Wbjlbu9T1GRDNyROfabtq7whbjsg8LHUt2Iv5H3rIwVCQnA",
#  "refresh_token": "Di3HDo2iff3tpuEORF8oV9JSnDki5e8RIlfTGlMelAQSvG-grqrHT3JyAlbQMUHecXQKOwOT2WkB3y3_l9xzx2Daoj6TZv7A-xxeZ22zlLGlvXiZ7vTCz8CCKb4ZzZyX",
#  "scope": "all",
#  "token_type": "Bearer",
#  "expires_in": 86400
#}

### Refreshing an Access Token 
POST {{auth_host}}/auth/oauth2/token?grant_type=refresh_token&client_id=xcWebApp&client_secret=xcWebApp&refresh_token=Y2R91WOtZXusEuEvKJP7GDRgLE1ESB0grf7u45JWF0dYXKojwX_Tjm9IJrzvdmeXJrEWnP_-e3Q6cozYjHcNUQYict5ajxMUNXzyyNaw7iGbqRu_-Ul3mOvrP2Cx188u

#{
#  "access_token": "eyJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJ0ZXN0IiwiYXVkIjoieGNXZWJBcHAiLCJuYmYiOjE2ODIzMTg4NDgsInNjb3BlIjpbImFsbCJdLCJpc3MiOiJodHRwOi8vbG9jYWxob3N0OjEwMTkvYXV0aCIsImV4cCI6MTY4MjQwNTI0OCwiaWF0IjoxNjgyMzE4ODQ4LCJ1c2VyaW5mbyI6eyJpZCI6IjUzIiwidXNlcm5hbWUiOiJ0ZXN0IiwicGFzc3dvcmQiOm51bGwsInNhbHQiOm51bGwsInd4VW5pb25pZCI6bnVsbCwibmlja25hbWUiOiJ6a2MiLCJuYW1lIjoiemtjIiwidXNlcnBpYyI6bnVsbCwiY29tcGFueUlkIjoiMSIsInV0eXBlIjoiMTAxMDAzIiwiYmlydGhkYXkiOm51bGwsInNleCI6IjEiLCJlbWFpbCI6bnVsbCwiY2VsbHBob25lIjpudWxsLCJxcSI6bnVsbCwic3RhdHVzIjoiMSIsImNyZWF0ZVRpbWUiOiJBcHIgMTQsIDIwMjMsIDY6MTE6NTYgUE0iLCJ1cGRhdGVUaW1lIjpudWxsfSwiYXV0aG9yaXRpZXMiOlsieGNfc3lzbWFuYWdlcl91c2VyX3ZpZXciLCJ4Y190ZWFjaG1hbmFnZXIiLCJ4Y190ZWFjaG1hbmFnZXJfY291cnNlIiwieGNfdGVhY2htYW5hZ2VyX2NvdXJzZV9hZGQiLCJ4Y190ZWFjaG1hbmFnZXJfY291cnNlX2Jhc2UiLCJ4Y190ZWFjaG1hbmFnZXJfY291cnNlX2RlbCIsInhjX3RlYWNobWFuYWdlcl9jb3Vyc2VfbGlzdCIsInhjX3RlYWNobWFuYWdlcl9jb3Vyc2VfbWFya2V0IiwieGNfdGVhY2htYW5hZ2VyX2NvdXJzZV9wbGFuIiwieGNfdGVhY2htYW5hZ2VyX2NvdXJzZV9wdWJsaXNoIl19.StjzAPRGMnlTZGo1pkSsaXI_GENeb2wUEzhECLlpRyn8Bcuh0UPPmG91hpXRBiydw9qbcJb9Mq6EBbyF17-Bd5YpSIR6i0fnkHZj3jsJ1qRYbo-ssLNje-WYy8BVPB8sU0-_9TAKFtP59VMbw_2Z1Jp7dEooqcVkofBzqdiE-WAeF83RZ_MWTqnHkVFe6eg5LSJr7C4GyTYXJ6kLImVgm_El8VbdBV-YTbpom8fnTBjcp1HIcD8pCySsIbRoisUf-1pes7Tq_ZRfFMWYSZG4i3AwlsktRUAA87BOFk7oosR3M2WfCDDXTXA8eLsZHX1-tAu3Appsm6Rlkv5PFD1GZw",
#  "refresh_token": "K5Zbe5HO4lM5ZiLXlwh5KbE2uEfNPvTVcZFmxxbpfTvp0UtBwmQRHae5ptyw15SrOcONCokKc_zyyt2zKNsa-8LeQbrdGKjT9wjg7wFSE3EIx3qTMsT0igx5YTg1NHDi",
#  "scope": "all",
#  "token_type": "Bearer",
#  "expires_in": 86400
#}


### PASSWORD 获取token  没有wx扫码和验证码的统一认证  前端页面手动设置jwt cookie
### util.js 修改getUserInfoFromJwt,直接设置为 jwtDecodeVal=jwtDecodeVal.userinfo 
POST {{auth_host}}/auth/oauth2/token?grant_type=password&client_id=xcWebApp&client_secret=xcWebApp&username=test&password=123

#{
#  "access_token": "eyJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJ0ZXN0IiwiYXVkIjoieGNXZWJBcHAiLCJuYmYiOjE2ODIzMTgyNDYsInNjb3BlIjpbImFsbCJdLCJpc3MiOiJodHRwOi8vbG9jYWxob3N0OjEwMTkvYXV0aCIsImV4cCI6MTY4MjQwNDY0NiwiaWF0IjoxNjgyMzE4MjQ2LCJ1c2VyaW5mbyI6eyJpZCI6IjUzIiwidXNlcm5hbWUiOiJ0ZXN0IiwicGFzc3dvcmQiOm51bGwsInNhbHQiOm51bGwsInd4VW5pb25pZCI6bnVsbCwibmlja25hbWUiOiJ6a2MiLCJuYW1lIjoiemtjIiwidXNlcnBpYyI6bnVsbCwiY29tcGFueUlkIjoiMSIsInV0eXBlIjoiMTAxMDAzIiwiYmlydGhkYXkiOm51bGwsInNleCI6IjEiLCJlbWFpbCI6bnVsbCwiY2VsbHBob25lIjpudWxsLCJxcSI6bnVsbCwic3RhdHVzIjoiMSIsImNyZWF0ZVRpbWUiOiJBcHIgMTQsIDIwMjMsIDY6MTE6NTYgUE0iLCJ1cGRhdGVUaW1lIjpudWxsfSwiYXV0aG9yaXRpZXMiOlsieGNfc3lzbWFuYWdlcl91c2VyX3ZpZXciLCJ4Y190ZWFjaG1hbmFnZXIiLCJ4Y190ZWFjaG1hbmFnZXJfY291cnNlIiwieGNfdGVhY2htYW5hZ2VyX2NvdXJzZV9hZGQiLCJ4Y190ZWFjaG1hbmFnZXJfY291cnNlX2Jhc2UiLCJ4Y190ZWFjaG1hbmFnZXJfY291cnNlX2RlbCIsInhjX3RlYWNobWFuYWdlcl9jb3Vyc2VfbGlzdCIsInhjX3RlYWNobWFuYWdlcl9jb3Vyc2VfbWFya2V0IiwieGNfdGVhY2htYW5hZ2VyX2NvdXJzZV9wbGFuIiwieGNfdGVhY2htYW5hZ2VyX2NvdXJzZV9wdWJsaXNoIl19.E6r_y0ha0jUDTV9rh3u8JffelF1wcVWm5EFmAD_032tWCMAbYE9t_uN5XQwVOKe5EqtSq_z7a8atSWnTXQPDXf5MC17fGFfxbV1YvwvyGt6J4TnzQMtzmnmftLYoGy22Xg3-1CfmlvLNjn3JqUw-JPY9LSNYhqu4i3SPoCz5Z-_zWJ_N1cvnobgdo08CzgGbSJmTh8LZi3Uv6k6OFmPLms_d61Z7ebpLBk8r31jQvmFtH_hB11HYx1o7Da2-bfxrLPUNfjyVRzJu5rDrUpiaBRjx_5i_opiTV0ZRJfKbPsBMRSDN2ROID5fvv59POyeJxq-akP-NMLdEajFT98TFFA",
#  "refresh_token": "DTxYYfHmT1Xr3Uf42eq-YTTYww7Vj381yA10gjuXP7-XtLF2qg9ztlXxNP0MwxXv6ZxVcWzuyPRMeY3kfOWEX5L0onyh8W-c73dbcfMYx3lAvHIfaMJP_1v-WO1S9WN_",
#  "scope": "all",
#  "token_type": "Bearer",
#  "expires_in": 86399
#}

### test
GET {{auth_host}}/auth/test/success



### jwk
GET {{auth_host}}/auth/oauth2/jwks